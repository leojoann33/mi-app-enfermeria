import{F as n,j as s,V as w,P as C}from"./index-B5CSIygu.js";import{u as L,r as p,L as v}from"./vendor-Bu8_wSc8.js";import{aX as E,n as f,b9 as A,P as R,B as S,F as h,A as D,j as _,y as u}from"./icons-pd9UMiox.js";import{m as k}from"./medications-BTWptZbJ.js";import{D as B}from"./dictionary-CEUFJiyI.js";import{A as P}from"./acronyms-DaMRLrV2.js";import{p as F}from"./lab-BLw-2lVt.js";const V=({lang:b})=>{const g=L(),[c,j]=p.useState(""),t=b==="es",d=p.useMemo(()=>{if(!c||c.length<2)return null;const a=c.toLowerCase(),m=[],i=(e,r,o,x,N,y)=>{m.push({category:e,item:r,title:o,subtitle:x,link:N,id:r.id||o,icon:y})},l=(e,r)=>{Array.isArray(e)&&e.forEach(r)};if(l(k,e=>{(e?.name?.toLowerCase().includes(a)||e?.description?.toLowerCase().includes(a))&&i(t?"Fármacos":"Medication",e,e.name||(t?"Fármaco":"Med"),t?"Guía Farmacológica":"Pharmacology Guide","/meds",R)}),l(B,e=>{const r=t?e?.term_es:e?.term_ro,o=t?e?.def_es:e?.def_ro;(r?.toLowerCase().includes(a)||o?.toLowerCase().includes(a))&&i(t?"Diccionario":"Dictionary",e,r||"Term",(o?.substring(0,60)||"")+"...","/dictionary",S)}),l(w,e=>{const r=e?.es?.toLowerCase(),o=e?.ro?.toLowerCase();(r?.includes(a)||o?.includes(a))&&i(t?"Vocabulario":"Vocabulary",e,t?e.es:e.ro,t?`RO: ${e.ro}`:`ES: ${e.es}`,"/vocab",h)}),l(C,e=>{const r=t?e?.title_es:e?.title_mo;r?.toLowerCase().includes(a)&&i(t?"Técnicas":"Procedures",e,r,t?"Protocolo Enfermería":"Nursing Protocol","/procedures",D)}),l(P,e=>{(e?.term?.toLowerCase().includes(a)||e?.def?.toLowerCase().includes(a))&&i(t?"Siglas":"Acronyms",e,e.term,e.def,"/acronyms",h)}),l(F,e=>{const r=t?e?.nombre:"Lab Profile";r?.toLowerCase().includes(a)&&i(t?"Laboratorio":"Laboratory",e,r,t?"Perfil Analítico":"Lab Profile","/lab",_)}),n){l(n.triaje?.levels,r=>{const o=t?r?.nameES:r?.nameRO,x=t?r?.descES:r?.descRO;(o?.toLowerCase().includes(a)||x?.toLowerCase().includes(a))&&i("Urgencias",r,o,x,"/emergency",u)});const e=t?n.carro?.titleES:n.carro?.titleRO;e?.toLowerCase().includes(a)&&i("Urgencias",n.carro,e,"Checklist","/emergency",u),l(n.carro?.drawers,r=>{l(r?.items,o=>{o?.name?.toLowerCase().includes(a)&&i("Urgencias",o,o.name,e,"/emergency",u)})})}return m},[c,t]);return s.jsxs("div",{className:"min-h-screen bg-slate-50 pb-32 relative",children:[s.jsxs("div",{className:"bg-white sticky top-0 z-50 px-4 py-3 shadow-sm border-b border-slate-100",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("button",{onClick:()=>g(-1),className:"p-2 -ml-2 rounded-full hover:bg-slate-100 text-slate-600",children:s.jsx(E,{size:24})}),s.jsx("h1",{className:"text-lg font-bold text-slate-800",children:t?"Búsqueda Global":"Căutare Globală"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(f,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),s.jsx("input",{type:"text",autoFocus:!0,value:c,onChange:a=>j(a.target.value),placeholder:t?"Buscar en toda la app...":"Caută în toată aplicația...",className:"w-full bg-slate-100 text-slate-800 pl-12 pr-4 py-3 rounded-2xl outline-none focus:ring-2 focus:ring-[#003BD1]/20 focus:bg-white transition-all text-base border-none font-medium placeholder:text-slate-400"})]})]}),s.jsxs("div",{className:"p-4",children:[!c&&s.jsxs("div",{className:"flex flex-col items-center justify-center mt-20 text-slate-300",children:[s.jsx(f,{size:64,strokeWidth:1,className:"mb-4 text-slate-200"}),s.jsx("p",{className:"text-sm font-medium uppercase tracking-widest text-slate-400",children:t?"Explora el conocimiento":"Explorează cunoașterea"}),s.jsx("p",{className:"text-xs text-slate-400 mt-2 text-center max-w-[200px]",children:t?"Escribe para buscar en fármacos, diccionario, técnicas y más.":"Scrie pentru a căuta în medicamente, dicționar, proceduri și altele."})]}),c&&c.length<2&&s.jsx("p",{className:"text-center text-slate-400 mt-10 text-sm",children:t?"Escribe al menos 2 caracteres...":"Scrie cel puțin 2 caractere..."}),d&&d.length===0&&s.jsxs("div",{className:"flex flex-col items-center mt-20",children:[s.jsx("p",{className:"text-slate-500 font-medium",children:t?"No se encontraron resultados":"Niciun rezultat găsit"}),s.jsxs("p",{className:"text-slate-400 text-sm mt-1",children:['"',c,'"']})]}),s.jsx("div",{className:"space-y-3",children:d&&d.map((a,m)=>s.jsx(v,{to:a.link,className:"block bg-white rounded-2xl p-4 shadow-sm border border-slate-100 active:scale-[0.98] transition-transform",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 ${a.category==="Fármacos"?"bg-blue-100 text-blue-600":a.category==="Diccionario"?"bg-indigo-100 text-indigo-600":a.category==="Urgencias"?"bg-red-100 text-red-600":"bg-green-100 text-green-600"}`,children:s.jsx(a.icon,{size:20})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-sm font-bold text-slate-800 truncate",children:a.title}),s.jsx("p",{className:"text-xs text-slate-500 line-clamp-2 mt-0.5",children:a.subtitle}),s.jsx("div",{className:"mt-2 flex items-center gap-2",children:s.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider text-slate-400 bg-slate-50 px-2 py-0.5 rounded-md border border-slate-100",children:a.category})})]}),s.jsx(A,{size:16,className:"text-slate-300 mt-2"})]})},m))})]})]})};export{V as GlobalSearch};
