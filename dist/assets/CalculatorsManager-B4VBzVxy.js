import{j as a}from"./index-B5CSIygu.js";import{r as S}from"./vendor-Bu8_wSc8.js";import{ba as P,f as w,R as L,bb as U,b7 as $,s as G,D as B,bc as _,bd as H,aX as z,T as W,be as Q,bf as V,aQ as q,b9 as J}from"./icons-pd9UMiox.js";const D={Ceftriaxona:{tipsES:["Administraci√≥n IM: Es dolorosa, disolver con Lidoca√≠na al 1% si el protocolo lo permite.","Administraci√≥n IV: Reconstituir con 10ml de SF y administrar muy lento (2-4 minutos).","Precauci√≥n: Vigilar antecedentes de alergia a penicilinas o betalact√°micos."],tipsRO:["Administrare IM: Este dureroasƒÉ, dizolva»õi cu LidocainƒÉ 1% dacƒÉ protocolul permite.","Administrare IV: Reconstitui»õi cu 10ml SF »ôi administra»õi foarte lent (2-4 minute).","Precau»õie: Monitoriza»õi antecedentele de alergie la peniciline sau betalactamice."]},Dexketoprofeno:{tipsES:["Infusi√≥n IV: Diluir en 100ml de SF/SG y pasar en 10-20 minutos.","Bolo IV: Administrar lento, durante un m√≠nimo de 15 segundos.","Importante: No mezclar en la misma jeringa con otros f√°rmacos (cristaliza)."],tipsRO:["Perfuzie IV: Dilua»õi √Æn 100ml SF/SG »ôi administra»õi √Æn 10-20 minute.","Bolus IV: Administra»õi lent, timp de minim 15 secunde.","Important: Nu amesteca»õi √Æn aceea»ôi seringƒÉ cu alte medicamente (cristalizeazƒÉ)."]},Diazepam:{tipsES:["Administraci√≥n: No diluir, el f√°rmaco precipita (se vuelve blanco).","IV directa: Muy lenta (1 min por cada 10mg) para evitar apnea.","Vigilancia: Alto riesgo de depresi√≥n respiratoria, controlar saturaci√≥n de ox√≠geno."],tipsRO:["Administrare: Nu dilua»õi, medicamentul precipitƒÉ (devine alb).","IV direct: Foarte lent (1 min pentru fiecare 10mg) pentru a evita apneea.","Supraveghere: Risc crescut de depresie respiratorie, controla»õi satura»õia de oxigen."]},Digoxina:{tipsES:["Administraci√≥n IV: Muy lenta, administrar durante al menos 5 minutos.","Seguridad: Monitorizar la frecuencia card√≠aca (FC) antes de administrar.","Contraindicaci√≥n: NO administrar si la frecuencia card√≠aca es < 60 lpm."],tipsRO:["Administrare IV: Foarte lentƒÉ, administra»õi timp de cel pu»õin 5 minute.","Siguran»õƒÉ: Monitoriza»õi frecven»õa cardiacƒÉ (FC) √Ænainte de administrare.","Contraindica»õie: NU administra»õi dacƒÉ frecven»õa cardiacƒÉ este < 60 bpm."]},Furosemida:{tipsES:["Administraci√≥n IV: Lenta (1-2 min) para evitar ototoxicidad (da√±o auditivo).","Fotosensible: Proteger de la luz si se administra en infusi√≥n continua.","Efecto: Monitorizar diuresis (orina) y presi√≥n arterial regularmente."],tipsRO:["Administrare IV: LentƒÉ (1-2 min) pentru a evita ototoxicitatea (leziuni auditive).","Fotosensibil: Proteja»õi de luminƒÉ dacƒÉ se administreazƒÉ √Æn perfuzie continuƒÉ.","Efect: Monitoriza»õi diureza (urina) »ôi tensiunea arterialƒÉ √Æn mod regulat."]},Haloperidol:{tipsES:["V√≠a IM: Inyecci√≥n profunda en gl√∫teo mediante t√©cnica en Z (irritante).","V√≠a IV: Solo bajo monitorizaci√≥n card√≠aca continua (riesgo de arritmias).","Vigilancia: Riesgo de hipotensi√≥n ortost√°tica y sedaci√≥n excesiva."],tipsRO:["Cale IM: Injec»õie profundƒÉ √Æn fesier prin tehnica √Æn Z (iritant).","Cale IV: Doar sub monitorizare cardiacƒÉ continuƒÉ (risc de aritmii).","Supraveghere: Risc de hipotensiune ortostaticƒÉ »ôi sedare excesivƒÉ."]},Metamizol:{tipsES:["Administraci√≥n IV: Muy lenta (m√≠nimo 3 min) o diluido en 100ml (20 min).","Peligro: La administraci√≥n r√°pida provoca hipotensi√≥n grave (Shock).","Vigilancia: Controlar la tensi√≥n arterial durante la administraci√≥n."],tipsRO:["Administrare IV: Foarte lentƒÉ (minim 3 min) sau diluat √Æn 100ml (20 min).","Pericol: Administrarea rapidƒÉ provoacƒÉ hipotensiune gravƒÉ (»òoc).","Supraveghere: Controla»õi tensiunea arterialƒÉ √Æn timpul administrƒÉrii."]},Metoclopramida:{tipsES:["Administraci√≥n IV: Lenta durante 1-2 minutos.","Advertencia: El paso r√°pido causa ansiedad y agitaci√≥n grave (acatisia).","Observaci√≥n: Vigilar si aparecen temblores o rigidez muscular en cuello."],tipsRO:["Administrare IV: LentƒÉ timp de 1-2 minute.","Avertisment: Administrarea rapidƒÉ cauzeazƒÉ anxietate »ôi agita»õie gravƒÉ (acatisie).","Observa»õie: UrmƒÉri»õi dacƒÉ apar tremurƒÉturi sau rigiditate muscularƒÉ la g√¢t."]},Paracetamol:{tipsES:["Perfusi√≥n IV: Administrar el vial de 100ml en 15 minutos.","Intervalo: Respetar m√≠nimo 4 horas entre dosis.","Precauci√≥n: Dosis m√°xima diaria 4g. Reducir dosis en fallo hep√°tico."],tipsRO:["Perfuzie IV: Administra»õi flaconul de 100ml √Æn 15 minute.","Interval: Respecta»õi minim 4 ore √Æntre doze.","Precau»õie: Doza maximƒÉ zilnicƒÉ 4g. Reduce»õi doza √Æn insuficien»õƒÉ hepaticƒÉ."]},Tramadol:{tipsES:["Administraci√≥n IV: Lenta en 2-3 minutos o diluida en 100ml SF.","Efectos adversos: El paso r√°pido provoca n√°useas y v√≥mitos inmediatos.","Geriatr√≠a: Vigilar aparici√≥n de estre√±imiento, retenci√≥n urinaria y somnolencia."],tipsRO:["Administrare IV: LentƒÉ √Æn 2-3 minute sau diluatƒÉ √Æn 100ml SF.","Efecte adverse: Administrarea rapidƒÉ provoacƒÉ grea»õƒÉ »ôi vƒÉrsƒÉturi imediate.","Geriatrie: Monitoriza»õi apari»õia constipa»õiei, reten»õiei urinare »ôi somnolen»õei."]}},R={goteo:{id:"goteo",icon:B,titleES:"Goteo IV (gotas/min)",titleRO:"Picurare IV (gtt/min)",descES:"Calcula velocidad de infusi√≥n por gravedad",descRO:"CalculeazƒÉ viteza perfuziei gravita»õionale",color:"bg-blue-500",lightBg:"bg-blue-50",steps:[{id:"volume",labelES:"Volumen a infundir (ml)",labelRO:"Volum de infuzat (ml)",helpES:"Volumen total de la bolsa de suero.",helpRO:"Volumul total al pungii de ser.",unit:"ml",type:"number",example:"500"},{id:"time",labelES:"Tiempo total (horas)",labelRO:"Timp total (ore)",helpES:"Duraci√≥n de la infusi√≥n. (Ver orden m√©dica)",helpRO:"Durata perfuziei. (Vezi prescrip»õia medicalƒÉ)",unit:"h",type:"number",example:"8"},{id:"factor",labelES:"Factor Goteo",labelRO:"Factor Picurare",helpES:"Gotas por ml del sistema.",helpRO:"PicƒÉturi pe ml ale sistemului.",type:"select",defaultValue:"20",options:[{value:"20",labelES:"20 gtt/ml (Macrogotero)",labelRO:"20 gtt/ml (MacropicurƒÉtor)"},{value:"60",labelES:"60 gtt/ml (Microgotero)",labelRO:"60 gtt/ml (MicropicurƒÉtor)"}]}],calculate:t=>{const e=parseFloat(t.volume),r=parseFloat(t.time),s=parseFloat(t.factor),o=Math.round(e*s/(r*60));return{value:o,unit:"gtt/min",unitRO:"gtt/min",check15sec:Math.round(o/4)}},getWarning:(t,e)=>t.value>100?e?"‚ö†Ô∏è Goteo muy r√°pido (>100).":"‚ö†Ô∏è Picurare foarte rapidƒÉ (>100).":null,getActionsES:(t,e)=>[`Ajusta a ${e.value} gotas/minuto.`,`En 15 segundos deben caer aprox. ${e.check15sec} gotas.`],getActionsRO:(t,e)=>[`Regla»õi la ${e.value} picƒÉturi/minut.`,`√én 15 secunde trebuie sƒÉ cadƒÉ aprox. ${e.check15sec} picƒÉturi.`]},dosis:{id:"dosis",icon:w,titleES:"Dosis (mg ‚Üí ml)",titleRO:"DozƒÉ (mg ‚Üí ml)",descES:"Convierte mg prescritos a ml para cargar en jeringa",descRO:"Converte»ôte mg prescri»ôi √Æn ml pentru seringƒÉ",color:"bg-emerald-500",lightBg:"bg-emerald-50",steps:[{id:"dose",labelES:"Dosis prescrita",labelRO:"Doza prescrisƒÉ",helpES:"¬øCu√°ntos mg te han indicado? Mira la orden m√©dica.",helpRO:"C√¢»õi mg »õi s-au indicat? Vezi prescrip»õia.",unit:"mg",type:"number",example:"80"},{id:"concentration",labelES:"Concentraci√≥n del medicamento",labelRO:"Concentra»õia medicamentului",helpES:"¬øCu√°ntos mg/ml tiene? Mira la ampolla o el envase.",helpRO:"C√¢»õi mg/ml are? Vezi fiola sau ambalajul.",unit:"mg/ml",type:"number",example:"40"},{id:"medName",labelES:"Nombre del medicamento",labelRO:"Numele medicamentului",helpES:"Selecciona de la lista o escribe otro",helpRO:"SelecteazƒÉ din listƒÉ sau scrie altul",type:"combobox",options:Object.keys(D),optional:!0,example:"Furosemida"}],calculate:t=>{const e=parseFloat(t.dose),r=parseFloat(t.concentration),s=(e/r).toFixed(2);return{value:parseFloat(s),unit:"ml",unitRO:"ml",medName:t.medName||""}},getWarning:(t,e)=>t.value>10?e?"‚ö†Ô∏è Volumen alto para bolo IV directo. ¬øEs correcta la concentraci√≥n?":"‚ö†Ô∏è Volum mare pentru bolus IV. VerificƒÉ concentra»õia.":null,getActionsES:(t,e)=>[`Coge una jeringa adecuada (de ${Math.ceil(e.value*1.5)} ml o mayor).`,`Carga exactamente ${e.value} ml ${e.medName?"de "+e.medName:""}.`,"ANTES de administrar, verifica los 5 CORRECTOS:","  ‚òê Paciente correcto","  ‚òê Medicamento correcto",`  ‚òê Dosis correcta (${t.dose} mg = ${e.value} ml)`,"  ‚òê V√≠a correcta","  ‚òê Hora correcta",`REGISTRA: "${e.medName||"Med"} ${t.dose} mg (${e.value} ml) [v√≠a] a las [hora]"`],getActionsRO:(t,e)=>[`Lua»õi o seringƒÉ adecvatƒÉ (de ${Math.ceil(e.value*1.5)} ml sau mai mare).`,`√éncƒÉrca»õi exact ${e.value} ml ${e.medName?"de "+e.medName:""}.`,"√éNAINTE de administrare, verifica»õi cele 5 CORECTE:","  ‚òê Pacient corect","  ‚òê Medicament corect",`  ‚òê DozƒÉ corectƒÉ (${t.dose} mg = ${e.value} ml)`,"  ‚òê Cale corectƒÉ","  ‚òê OrƒÉ corectƒÉ",`√éNREGISTRA»öI: "${e.medName||"Med"} ${t.dose} mg (${e.value} ml) [cale] la [ora]"`]},imc:{id:"imc",icon:G,titleES:"IMC (Masa Corporal)",titleRO:"IMC (MasƒÉ CorporalƒÉ)",descES:"Eval√∫a estado nutricional (Desnutrici√≥n/Obesidad)",descRO:"EvalueazƒÉ starea nutri»õionalƒÉ (Malnutri»õie/Obezitate)",color:"bg-teal-500",lightBg:"bg-teal-50",steps:[{id:"weight",labelES:"Peso (kg)",labelRO:"Greutate (kg)",helpES:"Peso actual del paciente.",helpRO:"Greutatea actualƒÉ a pacientului.",unit:"kg",type:"number",example:"70"},{id:"height",labelES:"Altura (cm)",labelRO:"√énƒÉl»õime (cm)",helpES:"Altura en cent√≠metros.",helpRO:"√énƒÉl»õimea √Æn centimetri.",unit:"cm",type:"number",example:"170"}],calculate:t=>{const e=parseFloat(t.weight),r=parseFloat(t.height)/100;return{value:(e/(r*r)).toFixed(1),unit:"kg/m¬≤",unitRO:"kg/m¬≤"}},getWarning:(t,e)=>{const r=parseFloat(t.value);return r<18.5?e?"‚ö†Ô∏è BAJO PESO (Posible Desnutrici√≥n)":"‚ö†Ô∏è SUBPONDERAL (PosibilƒÉ Malnutri»õie)":r>30?e?"‚ö†Ô∏è OBESIDAD":"‚ö†Ô∏è OBEZITATE":null},getActionsES:(t,e)=>[`IMC: ${e.value}.`,"Registrar en historia cl√≠nica.",e.value<18.5?"Valorar suplementos nutricionales.":"Consejo diet√©tico."],getActionsRO:(t,e)=>[`IMC: ${e.value}.`,"√énregistra»õi √Æn foaia de observa»õie.",e.value<18.5?"Evalua»õi suplimente nutritive.":"Consiliere dieteticƒÉ."]},barthel:{id:"barthel",icon:$,titleES:"√çndice Barthel (Dependencia)",titleRO:"Indicele Barthel (Dependen»õƒÉ)",descES:"Valora la independencia en ABVD",descRO:"EvalueazƒÉ independen»õa √Æn ADL",color:"bg-indigo-600",lightBg:"bg-indigo-50",steps:[{id:"score",labelES:"Puntuaci√≥n Total Estimada",labelRO:"Scor Total Estimat",helpES:"Suma r√°pida de los 10 √≠tems (Comer, Lavarse, Vestirse, Arreglarse, Deposici√≥n, Micci√≥n, Retrete, Traslado, Deambulaci√≥n, Escaleras).",helpRO:"Suma rapidƒÉ a celor 10 itemi (Alimenta»õie, Baie, √émbrƒÉcare, √éngrijire, Defeca»õie, Mic»õiune, ToaletƒÉ, Transfer, Deplasare, ScƒÉri).",type:"select",options:[{value:"100",labelES:"100 - Independiente",labelRO:"100 - Independent"},{value:"90",labelES:"91-99 - Dependencia Leve",labelRO:"91-99 - Dependen»õƒÉ U»ôoarƒÉ"},{value:"75",labelES:"61-90 - Dependencia Moderada",labelRO:"61-90 - Dependen»õƒÉ ModeratƒÉ"},{value:"40",labelES:"21-60 - Dependencia Severa",labelRO:"21-60 - Dependen»õƒÉ SeverƒÉ"},{value:"0",labelES:"0-20 - Dependencia Total",labelRO:"0-20 - Dependen»õƒÉ TotalƒÉ"}]}],calculate:t=>({value:t.score,unit:"puntos",unitRO:"puncte"}),getWarning:(t,e)=>parseInt(t.value)<60?e?"‚ö†Ô∏è ALTO RIESGO DE CA√çDAS Y √öLCERAS":"‚ö†Ô∏è RISC CRESCUT DE CƒÇDERI »òI ESCARE":null,getActionsES:(t,e)=>[`Barthel: ${e.value}.`,"Planificar cuidados de suplencia.","Movilizaci√≥n programada si < 60."],getActionsRO:(t,e)=>[`Barthel: ${e.value}.`,"Planifica»õi √Ængrijiri de suplinire.","Mobilizare programatƒÉ dacƒÉ < 60."]},dilucion:{id:"dilucion",icon:U,titleES:"Diluci√≥n",titleRO:"Dilu»õie",descES:"Calcula concentraci√≥n final tras diluir",descRO:"CalculeazƒÉ concentra»õia finalƒÉ dupƒÉ diluare",color:"bg-amber-500",lightBg:"bg-amber-50",steps:[{id:"mgInVial",labelES:"Cantidad en el frasco o ampolla",labelRO:"Cantitate √Æn flacon sau fiolƒÉ",helpES:"¬øCu√°ntos mg tiene el frasco o la ampolla?",helpRO:"C√¢»õi mg are flaconul sau fiola?",unit:"mg",type:"number",example:"1000"},{id:"diluent",labelES:"Diluyente (SF 0.9% o API)",labelRO:"Diluant (SF 0.9% sau API)",helpES:"¬øCu√°ntos ml de Suero Fisiol√≥gico o Agua para inyecci√≥n a√±adir√°s?",helpRO:"C√¢»õi ml de Ser Fiziologic sau ApƒÉ pentru injec»õie adaugi?",unit:"ml",type:"number",example:"10"}],calculate:t=>{const e=parseFloat(t.mgInVial),r=parseFloat(t.diluent),s=(e/r).toFixed(1);return{value:parseFloat(s),unit:"mg/ml",unitRO:"mg/ml",totalMg:e,totalMl:r}},getWarning:()=>null,getActionsES:(t,e)=>[`Carga ${t.diluent} ml del diluyente indicado (SF o agua).`,"Inyecta el diluyente en el vial.","Agita suavemente hasta disoluci√≥n completa.",`Concentraci√≥n final: ${e.value} mg/ml`,`Para 500 mg ‚Üí cargar ${(500/e.value).toFixed(1)} ml`,"ETIQUETA el vial: medicamento, concentraci√≥n, fecha/hora, iniciales."],getActionsRO:(t,e)=>[`√éncƒÉrca»õi ${t.diluent} ml din diluantul indicat (SF sau apƒÉ).`,"Injecta»õi diluantul √Æn fiolƒÉ.","Agita»õi u»ôor p√¢nƒÉ la dizolvarea completƒÉ.",`Concentra»õie finalƒÉ: ${e.value} mg/ml`,`Pentru 500 mg ‚Üí √ÆncƒÉrca»õi ${(500/e.value).toFixed(1)} ml`,"ETICHETA»öI fiola: medicament, concentra»õie, datƒÉ/orƒÉ, ini»õiale."]},conversion:{id:"conversion",icon:L,titleES:"Conversi√≥n",titleRO:"Conversie",descES:"Conversi√≥n entre unidades",descRO:"Conversie √Æntre unitƒÉ»õi",color:"bg-slate-500",lightBg:"bg-slate-50",steps:[{id:"convType",labelES:"Tipo de conversi√≥n",labelRO:"Tip de conversie",helpES:"¬øQu√© quieres convertir?",helpRO:"Ce vrei sƒÉ converte»ôti?",type:"select",options:[{value:"mg_g",labelES:"mg ‚Üí g",labelRO:"mg ‚Üí g"},{value:"g_mg",labelES:"g ‚Üí mg",labelRO:"g ‚Üí mg"},{value:"mcg_mg",labelES:"mcg ‚Üí mg",labelRO:"mcg ‚Üí mg"},{value:"mg_mcg",labelES:"mg ‚Üí mcg",labelRO:"mg ‚Üí mcg"},{value:"ml_L",labelES:"ml ‚Üí L",labelRO:"ml ‚Üí L"},{value:"L_ml",labelES:"L ‚Üí ml",labelRO:"L ‚Üí ml"},{value:"percent_mgml",labelES:"% ‚Üí mg/ml",labelRO:"% ‚Üí mg/ml"}]},{id:"inputValue",labelES:"Valor a convertir",labelRO:"Valoare de convertit",helpES:"Introduce el n√∫mero a convertir",helpRO:"Introdu numƒÉrul de convertit",type:"number",example:"1000"}],calculate:t=>{const e=parseFloat(t.inputValue),r=t.convType;let s,o,c;switch(r){case"mg_g":s=e/1e3,o="mg",c="g";break;case"g_mg":s=e*1e3,o="g",c="mg";break;case"mcg_mg":s=e/1e3,o="mcg",c="mg";break;case"mg_mcg":s=e*1e3,o="mg",c="mcg";break;case"ml_L":s=e/1e3,o="ml",c="L";break;case"L_ml":s=e*1e3,o="L",c="ml";break;case"percent_mgml":s=e*10,o="%",c="mg/ml";break;default:s=e,o="",c=""}return{value:s,unit:c,unitRO:c,fromUnit:o,inputValue:e}},getWarning:()=>null,getActionsES:(t,e)=>[`${e.inputValue} ${e.fromUnit} = ${e.value} ${e.unit}`],getActionsRO:(t,e)=>[`${e.inputValue} ${e.fromUnit} = ${e.value} ${e.unit}`]},insulina:{id:"insulina",icon:w,titleES:"Insulina (pauta)",titleRO:"InsulinƒÉ (protocol)",descES:"Determina UI de insulina seg√∫n glucemia",descRO:"DeterminƒÉ UI de insulinƒÉ dupƒÉ glicemie",color:"bg-orange-500",lightBg:"bg-orange-50",steps:[{id:"glucose",labelES:"Glucemia actual",labelRO:"Glicemia actualƒÉ",helpES:"¬øCu√°l es la glucemia capilar ahora mismo?",helpRO:"Care este glicemia capilarƒÉ acum?",unit:"mg/dl",type:"number",example:"265"},{id:"protocol",labelES:"Tipo de pauta",labelRO:"Tip de protocol",helpES:"¬øQu√© pauta est√° prescrita?",helpRO:"Ce protocol este prescris?",type:"select",options:[{value:"standard",labelES:"Pauta est√°ndar",labelRO:"Protocol standard"},{value:"sensible",labelES:"Pauta sensible (menor dosis)",labelRO:"Protocol sensibil"},{value:"resistente",labelES:"Pauta resistente (mayor dosis)",labelRO:"Protocol rezistent"}]}],calculate:t=>{const e=parseFloat(t.glucose),r=t.protocol,s={sensible:[{min:0,max:150,ui:0},{min:151,max:200,ui:1},{min:201,max:250,ui:2},{min:251,max:300,ui:3},{min:301,max:350,ui:4},{min:351,max:400,ui:5},{min:401,max:9999,ui:6}],standard:[{min:0,max:150,ui:0},{min:151,max:200,ui:2},{min:201,max:250,ui:3},{min:251,max:300,ui:4},{min:301,max:350,ui:6},{min:351,max:400,ui:8},{min:401,max:9999,ui:10}],resistente:[{min:0,max:150,ui:0},{min:151,max:200,ui:4},{min:201,max:250,ui:6},{min:251,max:300,ui:8},{min:301,max:350,ui:10},{min:351,max:400,ui:12},{min:401,max:9999,ui:14}]},c=(s[r]||s.standard).find(v=>e>=v.min&&e<=v.max);return{value:c?c.ui:0,unit:"UI",unitRO:"UI",glucose:e,range:c?`${c.min}-${c.max}`:""}},getWarning:(t,e)=>t.glucose>500?e?"‚ö†Ô∏è Glucemia > 500 mg/dl. AVISA al m√©dico adem√°s de poner insulina.":"‚ö†Ô∏è Glicemie > 500 mg/dl. ANUN»öƒÇ medicul.":t.value===0&&t.glucose<70?e?"‚ö†Ô∏è Glucemia BAJA. NO poner insulina. Valorar hipoglucemia.":"‚ö†Ô∏è Glicemie SCƒÇZUTƒÇ. NU administra insulinƒÉ.":null,getActionsES:(t,e)=>e.value===0?["No se requiere insulina de correcci√≥n para esta glucemia."]:[`Carga ${e.value} UI de insulina r√°pida en jeringa de insulina.`,"Administra v√≠a SUBCUT√ÅNEA (abdomen, brazos, muslos).","Rota la zona de punci√≥n.",`REGISTRA: "Glucemia ${e.glucose} mg/dl ‚Üí Insulina r√°pida ${e.value} UI SC"`,"Pr√≥ximo control seg√∫n pauta (antes de siguiente comida o 4-6h)."],getActionsRO:(t,e)=>e.value===0?["Nu este necesarƒÉ insulinƒÉ de corec»õie pentru acest nivel al glicemiei."]:[`√éncƒÉrca»õi ${e.value} UI de insulinƒÉ rapidƒÉ √Æn seringa de insulinƒÉ.`,"Administra»õi pe cale SUBCUTANATƒÇ (abdomen, bra»õe, coapse).","Roti»õi zona de punc»õie.",`√éNREGISTRA»öI: "Glicemie ${e.glucose} mg/dl ‚Üí InsulinƒÉ rapidƒÉ ${e.value} UI SC"`,"UrmƒÉtorul control conform protocolului (√Ænainte de urmƒÉtoarea masƒÉ sau la 4-6h)."]},time:{id:"time",icon:P,titleES:"Tiempo (h ‚Üî min)",titleRO:"Timp (h ‚Üî min)",descES:"Convierte horas a minutos y viceversa",descRO:"Converte»ôte ore √Æn minute »ôi invers",color:"bg-indigo-500",lightBg:"bg-indigo-50",steps:[{id:"type",labelES:"Tipo de conversi√≥n",labelRO:"Tip de conversie",helpES:"¬øQu√© quieres convertir?",helpRO:"Ce vrei sƒÉ converte»ôti?",type:"select",options:[{value:"h_min",labelES:"Horas ‚Üí Minutos",labelRO:"Ore ‚Üí Minute"},{value:"min_h",labelES:"Minutos ‚Üí Horas",labelRO:"Minute ‚Üí Ore"}]},{id:"val",labelES:"Valor",labelRO:"Valoare",helpES:"Introduce el tiempo",helpRO:"Introdu timpul",type:"number",example:"1.5"}],calculate:t=>{const e=parseFloat(t.val),r=t.type;let s,o,c;return r==="h_min"?(s=e*60,o="h",c="min"):(s=parseFloat((e/60).toFixed(2)),o="min",c="h"),{value:s,unit:c,unitRO:c,fromUnit:o,inputValue:e}},getWarning:()=>null,getActionsES:(t,e)=>[`${e.inputValue} ${e.fromUnit} = ${e.value} ${e.unit}`],getActionsRO:(t,e)=>[`${e.inputValue} ${e.fromUnit} = ${e.value} ${e.unit}`]}},Z=({current:t,total:e})=>a.jsx("div",{className:"flex gap-1.5 justify-center",children:Array.from({length:e}).map((r,s)=>a.jsx("div",{className:`w-2 h-2 rounded-full transition-all ${s<t?"bg-blue-500":s===t?"bg-blue-500 scale-125":"bg-slate-200"}`},s))}),X=({config:t,onClick:e,isEs:r})=>{const s=t.icon;return a.jsxs("button",{onClick:e,className:"flex items-center gap-4 p-4 bg-white rounded-2xl shadow-sm border border-slate-100 hover:shadow-md active:scale-[0.98] transition-all text-left group w-full",children:[a.jsx("div",{className:`w-14 h-14 rounded-xl ${t.color} flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform shadow-lg`,children:a.jsx(s,{size:26,className:"text-white",strokeWidth:2})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-bold text-slate-800 truncate",children:r?t.titleES:t.titleRO}),a.jsx("p",{className:"text-xs text-slate-500 truncate",children:r?t.descES:t.descRO})]}),a.jsx(J,{size:20,className:"text-slate-300 group-hover:text-slate-500"})]})},Y=({lang:t})=>{const e=t==="es",[r,s]=S.useState(null),[o,c]=S.useState(0),[m,v]=S.useState({}),[g,E]=S.useState(null),[N,O]=S.useState([]),[C,f]=S.useState(!1);S.useEffect(()=>{const i=localStorage.getItem("doseCalcHistory");if(i)try{O(JSON.parse(i))}catch(n){console.error("Error loading history:",n)}},[]);const M=(i,n,u)=>{const p=[{id:Date.now(),calcId:i,result:n,data:u,timestamp:new Date().toISOString()},...N].slice(0,10);O(p),localStorage.setItem("doseCalcHistory",JSON.stringify(p))},F=()=>{O([]),localStorage.removeItem("doseCalcHistory")},y=()=>{s(null),c(0),v({}),E(null)},k=()=>{const i=R[r];if(o<i.steps.length-1)c(o+1);else{const n=i.calculate(m);E(n),M(r,n,m)}},b=(i,n)=>{v({...m,[i]:n})},A=()=>{const n=R[r].steps[o];if(n.optional)return!0;const u=m[n.id];return n.type==="select"?!!u:u!==void 0&&u!==""};if(!r)return a.jsxs("div",{className:"min-h-full bg-gradient-to-b from-slate-50 to-white flex flex-col font-body",children:[a.jsxs("div",{className:"bg-white p-4 border-b border-slate-100 shadow-sm",children:[a.jsxs("h1",{className:"font-heading font-black text-slate-800 text-xl flex items-center gap-2",children:["üíä ",e?"Calculadora de Dosis":"Calculator Doze"]}),a.jsx("p",{className:"text-sm text-slate-500 mt-1",children:e?"Selecciona el c√°lculo que necesitas":"SelecteazƒÉ calculul de care ai nevoie"})]}),a.jsxs("div",{className:"p-4 space-y-3 flex-1 overflow-y-auto pb-24",children:[Object.values(R).map(i=>a.jsx(X,{config:i,isEs:e,onClick:()=>{s(i.id),c(0);const n={};i.steps.forEach(u=>{u.defaultValue&&(n[u.id]=u.defaultValue)}),v(n),E(null)}},i.id)),N.length>0&&a.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-3",children:[a.jsx(_,{size:16}),a.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:e?"Historial reciente":"Istoric recent"}),a.jsx("button",{onClick:F,className:"ml-auto p-1.5 hover:bg-red-50 text-slate-300 hover:text-red-500 rounded-lg transition-colors",title:e?"Borrar historial":"»òterge istoricul",children:a.jsx(H,{size:16})})]}),a.jsx("div",{className:"space-y-2",children:N.slice(0,3).map(i=>{const n=R[i.calcId];if(!n)return null;const u=n.icon;return a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-xl text-sm",children:[a.jsx(u,{size:16,className:"text-slate-400"}),a.jsx("span",{className:"text-slate-600",children:e?n.titleES:n.titleRO}),a.jsxs("span",{className:"ml-auto font-mono font-bold text-slate-800",children:[i.result?.value," ",i.result?.unit]})]},i.id)})})]})]})]});const d=R[r];if(d.icon,g){const i=d.getWarning(g,e),n=e?d.getActionsES(m,g):d.getActionsRO(m,g),u=g&&g.medName?D[g.medName]:null,I=u?e?u.tipsES:u.tipsRO:[];return a.jsxs("div",{className:"min-h-full bg-gradient-to-b from-slate-50 to-white flex flex-col font-body",children:[a.jsxs("div",{className:`${d.color} text-white p-4 shadow-lg`,children:[a.jsxs("button",{onClick:y,className:"flex items-center gap-2 text-white/80 hover:text-white mb-2",children:[a.jsx(z,{size:18}),a.jsx("span",{className:"text-sm",children:e?"Volver":"√énapoi"})]}),a.jsxs("h2",{className:"font-heading font-black text-xl",children:["‚úÖ ",e?"Resultado":"Rezultat"]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto pb-24",children:[a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:`${d.lightBg} rounded-2xl p-6 text-center border-2 border-white shadow-lg`,children:[a.jsx("p",{className:"text-xs uppercase font-bold text-slate-500 tracking-wider mb-2",children:e?d.titleES:d.titleRO}),a.jsx("p",{className:"text-5xl font-black text-slate-800",children:g.value}),a.jsx("p",{className:"text-lg font-bold text-slate-600 mt-1",children:e?g.unit:g.unitRO})]}),i&&a.jsxs("div",{className:"mt-4 p-4 bg-amber-50 border border-amber-200 rounded-xl flex items-start gap-3",children:[a.jsx(W,{className:"text-amber-500 shrink-0 mt-0.5",size:20}),a.jsx("p",{className:"text-sm text-amber-800",children:i})]}),a.jsxs("div",{className:"mt-4 p-4 bg-white rounded-xl border border-slate-100",children:[a.jsxs("p",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:["üìã ",e?"Resumen":"Rezumat"]}),a.jsx("div",{className:"space-y-1 text-sm text-slate-600",children:d.steps.map(p=>{const x=m[p.id];if(!x)return null;let j=x;if(p.type==="select"){const h=p.options?.find(T=>T.value===x);j=h?e?h.labelES:h.labelRO:x}return a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:[e?p.labelES:p.labelRO,":"]}),a.jsxs("span",{className:"font-mono font-bold",children:[j," ",p.unit||""]})]},p.id)})})]}),u&&I.length>0&&a.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-xl border border-blue-100 shadow-sm animate-in zoom-in-95 duration-300",children:[a.jsxs("p",{className:"text-xs font-bold text-blue-700 uppercase mb-2 flex items-center gap-2",children:["‚ÑπÔ∏è ",e?"Gu√≠a de Administraci√≥n":"Ghid de Administrare",a.jsx("span",{className:"bg-blue-200 text-blue-800 px-2 py-0.5 rounded-full text-[10px] ml-auto tracking-wide",children:g.medName})]}),a.jsx("ul",{className:"space-y-2 text-sm text-blue-900 leading-relaxed",children:I.map((p,x)=>a.jsxs("li",{className:"flex gap-2 items-start",children:[a.jsx("span",{className:"text-blue-400 mt-1.5",children:"‚Ä¢"}),a.jsx("span",{children:p})]},x))})]}),a.jsxs("div",{className:"mt-4 p-4 bg-emerald-50 rounded-xl border border-emerald-100",children:[a.jsxs("p",{className:"text-xs font-bold text-emerald-700 uppercase mb-3",children:["‚úÖ ",e?"Qu√© hacer ahora":"Ce sƒÉ faci acum"]}),a.jsx("ol",{className:"space-y-2 text-sm text-emerald-900",children:(()=>{let p=0;return n.map((x,j)=>{const h=x.includes("‚òê");return h||p++,a.jsxs("li",{className:`flex gap-2 ${h?"ml-6":""}`,children:[!h&&a.jsxs("span",{className:"font-bold text-emerald-600 shrink-0",children:[p,"."]}),a.jsx("span",{className:h?"text-emerald-800":"",children:x})]},j)})})()})]})]}),a.jsxs("div",{className:"p-4 flex gap-3",children:[a.jsxs("button",{onClick:()=>{E(null),c(0),v({})},className:"flex-1 py-3 bg-white border-2 border-slate-200 text-slate-700 font-bold rounded-xl",children:["üîÑ ",e?"Nuevo c√°lculo":"Calcul nou"]}),a.jsxs("button",{onClick:y,className:"flex-1 py-3 bg-slate-800 text-white font-bold rounded-xl",children:["üè† ",e?"Inicio":"AcasƒÉ"]})]})]})]})}const l=d.steps[o];return a.jsxs("div",{className:"min-h-full bg-gradient-to-b from-slate-50 to-white flex flex-col font-body",children:[a.jsxs("div",{className:`${d.color} text-white p-4 shadow-lg`,children:[a.jsxs("button",{onClick:()=>o>0?c(o-1):y(),className:"flex items-center gap-2 text-white/80 hover:text-white mb-2",children:[a.jsx(z,{size:18}),a.jsx("span",{className:"text-sm",children:e?"Atr√°s":"√énapoi"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"font-heading font-bold text-lg",children:e?d.titleES:d.titleRO}),a.jsx("span",{className:"text-sm text-white/70",children:e?`Paso ${o+1} de ${d.steps.length}`:`Pas ${o+1} din ${d.steps.length}`})]}),a.jsx("div",{className:"mt-3",children:a.jsx(Z,{current:o,total:d.steps.length})})]}),a.jsxs("div",{className:"flex-1 p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-lg font-bold text-slate-800 mb-2",children:e?l.labelES:l.labelRO}),a.jsx("p",{className:"text-sm text-slate-500",children:e?l.helpES:l.helpRO})]}),l.type==="number"&&a.jsxs("div",{className:"relative group/input",children:[a.jsx("input",{type:"number",inputMode:"decimal",min:"0",onWheel:i=>i.target.blur(),value:m[l.id]||"",onChange:i=>{const n=i.target.value;(n===""||parseFloat(n)>=0)&&b(l.id,n)},placeholder:l.example||"",className:"w-full py-6 px-28 text-3xl font-mono font-bold text-center bg-white border-2 border-slate-200 rounded-2xl focus:ring-4 focus:ring-blue-100 focus:border-blue-500 outline-none [&::-webkit-inner-spin-button]:appearance-none transition-all shadow-sm group-hover/input:border-blue-300"}),a.jsxs("div",{className:"absolute right-5 top-1/2 -translate-y-1/2 flex items-center gap-4 select-none",children:[a.jsxs("div",{className:"flex flex-col gap-1.5 opacity-40 group-hover/input:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>{const i=parseFloat(m[l.id]||"0");b(l.id,(i+1).toString())},className:"p-1 bg-slate-100 hover:bg-blue-100 text-slate-500 hover:text-blue-600 rounded-lg active:scale-90 transition-all shadow-sm",children:a.jsx(Q,{size:18})}),a.jsx("button",{onClick:()=>{const n=parseFloat(m[l.id]||"0")-1;b(l.id,(n<0?0:n).toString())},className:"p-1 bg-slate-100 hover:bg-blue-100 text-slate-500 hover:text-blue-600 rounded-lg active:scale-90 transition-all shadow-sm",children:a.jsx(V,{size:18})})]}),l.unit&&a.jsx("div",{className:"text-slate-400 font-bold text-lg leading-tight text-right min-w-[30px]",children:l.unit.includes("/")?l.unit.split("/").map((i,n)=>a.jsxs("div",{className:n>0?"text-xs opacity-80":"",children:[n>0?"/":"",i]},n)):a.jsx("span",{children:l.unit})})]})]}),l.type==="text"&&a.jsx("input",{type:"text",value:m[l.id]||"",onChange:i=>b(l.id,i.target.value),placeholder:l.example||"",className:"w-full p-4 text-xl font-bold text-center bg-white border-2 border-slate-200 rounded-2xl focus:ring-4 focus:ring-blue-100 focus:border-blue-500 outline-none"}),l.type==="combobox"&&a.jsxs("div",{className:"relative group/combo",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:m[l.id]||"",onChange:i=>{b(l.id,i.target.value),f(!0)},onFocus:()=>f(!0),onClick:()=>f(!0),placeholder:l.example||"",className:"w-full p-4 pr-12 text-xl font-bold text-center bg-white border-2 border-slate-200 rounded-2xl focus:ring-4 focus:ring-blue-100 focus:border-blue-500 outline-none"}),a.jsx("button",{onClick:()=>f(!C),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 text-slate-400 hover:text-blue-500 active:scale-95 transition-transform",children:a.jsx(V,{size:24})})]}),C&&a.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border-2 border-slate-100 rounded-xl shadow-xl max-h-60 overflow-y-auto z-50 animate-in fade-in slide-in-from-top-2 duration-200",children:[a.jsx("button",{onClick:()=>{b(l.id,""),f(!1)},className:"w-full text-left p-3 hover:bg-blue-50 hover:text-blue-700 border-b border-slate-50 last:border-0 font-medium text-slate-600 transition-colors",children:e?"Ninguno":"Niciunul"}),l.options.filter(i=>i.toLowerCase().includes((m[l.id]||"").toLowerCase())).map(i=>a.jsx("button",{onClick:()=>{b(l.id,i),f(!1)},className:"w-full text-left p-3 hover:bg-blue-50 hover:text-blue-700 border-b border-slate-50 last:border-0 font-medium text-slate-600 transition-colors",children:i},i)),l.options.filter(i=>i.toLowerCase().includes((m[l.id]||"").toLowerCase())).length===0&&a.jsx("div",{className:"p-3 text-slate-400 text-center text-sm italic",children:e?"Sin coincidencias":"Niciun rezultat"})]}),C&&a.jsx("div",{className:"fixed inset-0 z-40 bg-transparent",onClick:()=>f(!1)})]}),l.type==="select"&&a.jsx("div",{className:"space-y-3",children:l.options?.map(i=>a.jsx("button",{onClick:()=>{b(l.id,i.value),(r==="conversion"||r==="time")&&c(n=>n+1)},className:`w-full p-4 text-left rounded-xl border-2 transition-all ${m[l.id]===i.value?`${d.color} text-white border-transparent`:"bg-white border-slate-200 hover:border-slate-300"}`,children:a.jsx("span",{className:"font-bold",children:e?i.labelES:i.labelRO})},i.value))}),l.example&&l.type!=="select"&&a.jsxs("p",{className:"text-center text-sm text-slate-400 mt-3",children:[e?"Ejemplo:":"Exemplu:"," ",l.example]})]}),a.jsx("div",{className:"p-4 pb-6",children:a.jsx("button",{onClick:k,disabled:!A(),className:`w-full py-4 rounded-2xl font-bold text-lg flex items-center justify-center gap-2 transition-all ${A()?`${d.color} text-white shadow-lg active:scale-[0.98]`:"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:o===d.steps.length-1?a.jsxs(a.Fragment,{children:[a.jsx($,{size:20}),e?"Calcular":"CalculeazƒÉ"]}):a.jsxs(a.Fragment,{children:[e?"Siguiente":"UrmƒÉtorul",a.jsx(q,{size:20})]})})})]})},te=({lang:t,toggleLang:e})=>a.jsx(Y,{lang:t});export{te as CalculatorsManager};
